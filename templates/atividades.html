<!DOCTYPE html>
<head>
  <!-- Fonte -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">

  <!-- Personalizacao da pagina -->
  <title>Atividades Complementares - GradTrack</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="shortcut icon" href="{{ url_for('static', filename='icons/icone.svg') }}">
</head>
<body style="margin: 0;">
  <div class="conteudo">
    <div class="menu">
      <div class="categoria-menu"><a href="{{ url_for('index') }}">Home</a></div>
      <div class="categoria-menu"><a style="color: black;" href="{{ url_for('atividades') }}">Atividades Complementares</a></div>
      <div class="categoria-menu"><a href="{{ url_for('comprovantes') }}">Meus Comprovantes</a></div>
      <div class="categoria-menu"><a href="{{ url_for('calendario') }}">Prazos UFRJ</a></div>
    </div>
    <div class="secao">
      <div class="titulo-secao1">
        <div class="subtitulo"> MONITORAMENTO </div>
        <div class="titulo2"> ATIVIDADES QUE CREDITAM HORAS COMPLEMENTARES </div>
        <div class="texto" style="font-size: 15px;">
          Aqui voc√™ encontra o resumo de como cumprir suas horas complementares, tendo clareza das atividades aceitas, as horas que elas creditam e o comprovante necess√°rio
        </div>
      </div>
    </div>
    <div class="info-importante">
      <div class="titulo2"> INFORMA√á√ïES IMPORTANTES </div>
      <div class="texto" style="margin-bottom: 2rem;">
          Um total de 90 horas de atividades complementares devem ser cumpridas para a conclus√£o do curso de Ci√™ncia da Computa√ß√£o, para esse cumprimento, 
          o aluno deve enviar seus comprovantes para o email <a href="mailto:coac@ic.ufrj.br" style="color: #42484c; text-decoration: none;">coac@ic.ufrj.br</a> a fim de que suas horas sejam validadas e inclusas no BOA. 
      </div>
      <div class="texto">
          O upload do comprovante nessa aplica√ß√£o n√£o garante que as horas sejam contabilizadas, nosso objetivo √© auxiliar o aluno no seu controle pessoal.
      </div>      
    </div>

    <div class="btn-upload" onclick="openUploadModal()">
      <button> upload de comprovante </button>
    </div>

    <div class="info-importante">
      <div class="titulo2"> POSS√çVEIS ATIVIDADES </div>
      <div class="texto">
          Nessa se√ß√£o voc√™ encontra as atividades aceitas pelo Instituto de Ci√™ncia da Computa√ß√£o da UFRJ para a obten√ß√£o de cr√©ditos de horas complementares.
      </div>      
    </div>

    <div class="atividades-container" id="atividades-container">
      {% for atividade in atividades %}
        {% if loop.index0 % 6 == 0 %}
          <div class="grupo" style="display: none;">
        {% endif %}
          {% if loop.index0 % 2 == 0 %}
            <div class="row" style="margin: 5rem; align-items: center;">
          {% endif %}
              <div class="card-atividade">
                <div class="titulo3"> {{ atividade.nome }} </div>
                <div class="texto-card">
                  Tempo m√≠nimo: {{ atividade.minimo }} <br>
                  Tempo contado: {{ atividade.contado }} <br>
                  M√°ximo de horas: {{ atividade.maximo }} <br>
                  Comprovante: {{ atividade.comprovante }} <br>
                </div>
              </div>
          {% if loop.index0 % 2 == 1 or loop.last %}
            </div>
          {% endif %}
        {% if loop.index0 % 6 == 5 or loop.last %}
          </div>
        {% endif %}
      {% endfor %}
    </div>

    <div id="verMaisBtn" class="btn-atividades">mais atividades</div>
  </div>

  {% include 'footer.html' %}
  
  <!-- Modal Upload-->
  <div class="modal-upload" id="modalUpload">
    <div class="modal-upload-conteudo">
      <h2>Upload de Comprovante</h2>
      <form id="receiptForm" enctype="multipart/form-data" method="post" action="/upload">
        <div style="display: inline-block;">
          <div class="form-group">
            <div for="activitySelect" class="titulo-input">Atividade</div>
            <select id="activitySelect" name="activitySelect" class="option" required >
              <option value="">Selecione uma atividade</option>
              <option value="1">Est√°gio</option>
              <option value="2">Inicia√ß√£o cient√≠fica</option>
              <option value="3">Ouvinte em palestra</option>
              <option value="4">Apresenta√ß√£o de trabalhos em eventos cient√≠ficos</option>
              <option value="5">Participa√ß√£o em competi√ß√µes acad√™micas</option>
              <option value="6">Premia√ß√£o ou men√ß√£o honrosa</option>
              <option value="7">Participa√ß√£o em colegiados</option>
              <option value="8">Comiss√µes de trabalhos acad√™micos</option>
              <option value="9">Mes√°rio</option>
              <option value="10">Membro de diretoria estudantil</option>
              <option value="11">Membro EJCM</option>
              <option value="12">Concelheiro ou diretor EJCM</option>
              <option value="13">Organiza√ß√£o de eventos</option>
              <option value="14">Monitor no IC</option>
              <option value="15">Monitor LCI/LIGs</option>
              <option value="16">Trabalhos comunit√°rios</option>
              <option value="17">Interc√¢mbio acad√™mico</option>
              <option value="18">Cursos de na √°rea da computa√ß√£o</option>
              <option value="19">Cursos de idiomas</option>
            </select>
          </div>
          
          <div class="form-group">
            <div for="newActivityHours" class="titulo-input">Horas cumpridas</div>
            <input type="number" id="newActivityHours" name="newActivityHours"  class="option" min="0.5" step="0.5">
          </div>

          <div class="form-group">
            <div for="receiptFile" class="titulo-input">Comprovante</div>
            <div class="upload-area" id="dropArea">
              <input type="file" id="receiptFile" name="receiptFile" accept=".jpg,.jpeg,.png,.pdf" class="file-input" required>
              <div class="upload-icon">üìÑ</div>
              <p id="uploadText">Selecione seu comprovante</p>
              <p class="file-types">Tipos aceitos: JPG, PNG, PDF (max 5MB)</p>
            </div>
          </div>
        </div>

        <button type="submit" class="btn btn-primary">enviar atividade</button>
      </form>
    </div>
  </div>

  <script src="{{ url_for('static', filename='JavaScript/main.js') }}"></script>

  <script>
    /* Exibir comprovantes de 6 em 6 */
    let grupoAtual = 0;

    function mostrarProximoGrupo() {
      const grupos = document.querySelectorAll(".grupo");
      if (grupoAtual < grupos.length) {
        grupos[grupoAtual].style.display = "flex";
        grupoAtual++;
        if (grupoAtual === grupos.length) {
          document.getElementById("verMaisBtn").style.display = "none";
        }
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      mostrarProximoGrupo(); // mostra o primeiro grupo
      document.getElementById("verMaisBtn").addEventListener("click", mostrarProximoGrupo);
    });

    /* Exibir o nome do arquivo selecionado para o upload */
    document.getElementById('receiptFile').addEventListener('change', function () {
      const fileInput = this;
      const uploadText = document.getElementById('uploadText');

      if (fileInput.files.length > 0) {
        uploadText.innerHTML = `<p><strong>${fileInput.files[0].name}</strong></p>`;
      }
    });
  </script>


</body>